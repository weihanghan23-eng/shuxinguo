<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯å“é›†é‡‡æ·±åº¦è§£æ - ä¿®å¤ç‰ˆ</title>
    
    <!-- å¼•å…¥ECharts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts-wordcloud/2.1.0/echarts-wordcloud.min.js"></script>
    
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        body, html {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-color: #FFFBF0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        
        /* é¡µé¢å®¹å™¨ */
        .page-section {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            width: 100%;
        }
        
        /* é¡µé¢1ä¸“ç”¨æ ·å¼ */
        #page1-container {
            height: 100vh;
            width: 100%;
            background-color: #FFFBF0;
            overflow: hidden;
        }
        
        /* å·¦å³å¸ƒå±€å®¹å™¨ */
        .container {
            display: flex;
            width: 90vw;
            height: 90vh;
            max-width: 1400px;
            max-height: 800px;
            margin: 0 auto;
            padding: 40px;
            box-sizing: border-box;
        }
        
        /* å·¦ä¾§æ–‡æ¡ˆåŒºåŸŸ */
        .text-column {
            width: 43%;
            height: 100%;
            padding-right: 40px;
            box-sizing: border-box;
            color: #333;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .text-column h1 {
            font-size: 28px;
            color: #111;
            margin-bottom: 24px;
            border-bottom: 2px solid #0B4F6C;
            padding-bottom: 12px;
        }
        
        .text-column p {
            font-size: 16px;
            line-height: 1.8;
            text-align: justify;
            margin-bottom: 16px;
        }
        
        /* å³ä¾§å›¾è¡¨åŒºåŸŸ */
        .chart-column {
            width: 57%;
            height: 100%;
            position: relative;
        }
        
        /* è¯äº‘å®¹å™¨ */
        #wordcloud-container {
            width: 100%;
            height: 100%;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 20px;
            }
            
            .text-column {
                width: 100%;
                height: 50%;
                padding-right: 0;
                padding-bottom: 20px;
            }
            
            .chart-column {
                width: 100%;
                height: 50%;
            }
        }
        
        /* è°ƒè¯•ä¿¡æ¯æ ·å¼ */
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <div class="debug-info" id="debug-info">
        <div>çŠ¶æ€: åˆå§‹åŒ–ä¸­...</div>
        <div>ECharts: æ£€æŸ¥ä¸­...</div>
        <div>è¯äº‘æ’ä»¶: æ£€æŸ¥ä¸­...</div>
        <div>å®¹å™¨: æ£€æŸ¥ä¸­...</div>
    </div>

    <!-- é¡µé¢1å†…å®¹ -->
    <section id="page1-container" class="page-section">
        <div class="container">
            <!-- å·¦ä¾§æ–‡æ¡ˆåŒºåŸŸ -->
            <div class="text-column">
                <h1>è¯å“é›†é‡‡æ·±åº¦è§£æ</h1>
                <p>
                    å›½å®¶è¯å“é›†ä¸­å¸¦é‡é‡‡è´­ï¼ˆç®€ç§°"é›†é‡‡"ï¼‰æ˜¯å›½å®¶åŒ»ä¿å±€ä¸»å¯¼çš„ä¸€é¡¹é‡å¤§åŒ»æ”¹æ”¿ç­–ï¼Œæ—¨åœ¨é€šè¿‡"ä»¥é‡æ¢ä»·"çš„æ–¹å¼ï¼Œé™ä½è¯å“ä»·æ ¼ï¼Œå‡è½»æ‚£è€…è´Ÿæ‹…ï¼Œæé«˜åŒ»ä¿åŸºé‡‘ä½¿ç”¨æ•ˆç‡ã€‚
                </p>
                <p>
                    ä½†æ˜¯å¹¶éæ‰€æœ‰äººéƒ½çŸ¥é“äº†è§£å›½å®¶è¯å“é›†é‡‡ï¼Œå¾ˆå¤šäººåªä¼šåœ¨ä¹°è¯ã€å¼€è¯æ—¶æ„Ÿå—åˆ°"è¯å˜ä¾¿å®œäº†"ï¼Œè‡³äºä¸ºä»€ä¹ˆ"è¯å˜ä¾¿å®œäº†ï¼Ÿ"å°±æ²¡äººåœ¨æ„äº†ï¼Œç”šè‡³æœ‰ä¸€äº›å£°éŸ³åœ¨è¯´"ä¾¿å®œæ²¡å¥½è´§"ã€‚
                </p>
                <p>
                    <strong>åˆ°åº•ä»€ä¹ˆæ˜¯é›†é‡‡ï¼Œé›†é‡‡åˆ°åº•ä¸ºäº†ä»€ä¹ˆï¼Œé›†é‡‡åˆ°åº•å¥½ä¸å¥½ï¼Ÿ</strong>è¿™ä¸€ä¸ªä¸ªé—®å·æ­£æ˜¯æˆ‘ä»¬è¦å›ç­”çš„é—®é¢˜ã€‚
                </p>
            </div>

            <!-- å³ä¾§è¯äº‘å›¾æ  -->
            <div class="chart-column">
                <div id="wordcloud-container"></div>
            </div>
        </div>
    </section>

    <script>
        // è°ƒè¯•ä¿¡æ¯æ›´æ–°å‡½æ•°
        function updateDebugInfo(message, type = 'info') {
            const debugInfo = document.getElementById('debug-info');
            const time = new Date().toLocaleTimeString();
            debugInfo.innerHTML += `<div style="color: ${type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#fff'}">[${time}] ${message}</div>`;
            
            // ä¿æŒæœ€æ–°çš„5æ¡ä¿¡æ¯
            const lines = debugInfo.querySelectorAll('div');
            if (lines.length > 6) {
                lines[1].remove();
            }
        }
        
        // æ£€æŸ¥ECharts
        function checkECharts() {
            if (typeof echarts === 'undefined') {
                updateDebugInfo('âŒ ECharts æœªåŠ è½½', 'error');
                return false;
            }
            updateDebugInfo('âœ… ECharts å·²åŠ è½½', 'success');
            return true;
        }
        
        // æ£€æŸ¥è¯äº‘æ’ä»¶
        function checkWordcloudPlugin() {
            if (typeof echarts.registerTransform === 'undefined') {
                updateDebugInfo('âŒ è¯äº‘æ’ä»¶æœªåŠ è½½', 'error');
                return false;
            }
            updateDebugInfo('âœ… è¯äº‘æ’ä»¶å·²åŠ è½½', 'success');
            return true;
        }
        
        // æ£€æŸ¥å®¹å™¨
        function checkContainer() {
            const container = document.getElementById('wordcloud-container');
            if (!container) {
                updateDebugInfo('âŒ è¯äº‘å®¹å™¨ä¸å­˜åœ¨', 'error');
                return false;
            }
            
            const width = container.offsetWidth;
            const height = container.offsetHeight;
            updateDebugInfo(`âœ… å®¹å™¨å°ºå¯¸: ${width} x ${height}`, 'success');
            
            if (width === 0 || height === 0) {
                updateDebugInfo('âš ï¸ å®¹å™¨å°ºå¯¸ä¸º0ï¼Œå¯èƒ½è¢«CSSéšè—', 'error');
                return false;
            }
            
            return true;
        }
        
        // åˆå§‹åŒ–è¯äº‘
        function initWordcloud() {
            try {
                updateDebugInfo('ğŸš€ å¼€å§‹åˆå§‹åŒ–è¯äº‘...');
                
                const container = document.getElementById('wordcloud-container');
                
                // åˆå§‹åŒ–å›¾è¡¨
                const myChart = echarts.init(container);
                updateDebugInfo('âœ… ECharts å®ä¾‹åˆ›å»ºæˆåŠŸ');
                
                // è¯äº‘æ•°æ®
                const wordData = [
                    { name: 'ä»¿åˆ¶', value: 595 }, { name: 'åŒ»ä¿', value: 485 }, { name: 'åŒ»é™¢', value: 469 },
                    { name: 'åŒ»ç”Ÿ', value: 396 }, { name: 'åŸç ”è¯', value: 381 }, { name: 'é—®é¢˜', value: 284 },
                    { name: 'æ•ˆæœ', value: 217 }, { name: 'åŒ»ç–—', value: 182 }, { name: 'æ‚£è€…', value: 180 },
                    { name: 'æ²¡æœ‰', value: 169 }, { name: 'è¯å“', value: 153 }, { name: 'ä»·æ ¼', value: 144 },
                    { name: 'å›½äº§', value: 138 }, { name: 'æŠ¥é”€', value: 129 }, { name: 'è¯æ•ˆ', value: 123 },
                    { name: 'è¯ç‰©', value: 121 }, { name: 'ä¾¿å®œ', value: 137 }, { name: 'ä¿é™©', value: 115 },
                    { name: 'ç°åœ¨', value: 100 }, { name: 'è´¨é‡', value: 101 }, { name: 'è§†é¢‘', value: 101 },
                    { name: 'ç—…äºº', value: 112 }, { name: 'è‡ªè´¹', value: 94 }, { name: 'åŒ»æ”¹', value: 75 }
                ];
                
                updateDebugInfo(`ğŸ“Š å‡†å¤‡æ•°æ®: ${wordData.length} ä¸ªè¯`);
                
                // é…ç½®é€‰é¡¹
                const option = {
                    tooltip: {
                        show: true,
                        formatter: '{b} ({c})',
                        backgroundColor: 'rgba(50,50,50,0.7)',
                        borderColor: '#ccc',
                        borderWidth: 1,
                        textStyle: { color: '#fff' }
                    },
                    series: [{
                        type: 'wordCloud',
                        sizeRange: [15, 120],
                        rotationRange: [0, 0],
                        gridSize: 12,
                        shape: 'circle',
                        drawOutOfBound: false,
                        width: '100%',
                        height: '100%',
                        textStyle: {
                            fontWeight: 'bold',
                            color: function (params) {
                                const value = params.value;
                                if (value > 300) return '#01BAEF';
                                else if (value > 100) return '#0B4F6C';
                                else if (value > 50) return '#536872';
                                else return '#888';
                            }
                        },
                        emphasis: {
                            textStyle: {
                                shadowBlur: 10,
                                shadowColor: '#333'
                            }
                        },
                        data: wordData
                    }]
                };
                
                updateDebugInfo('âš™ï¸ è®¾ç½®é…ç½®...');
                myChart.setOption(option);
                updateDebugInfo('âœ… é…ç½®è®¾ç½®å®Œæˆ');
                
                // æ£€æŸ¥æ¸²æŸ“ç»“æœ
                setTimeout(() => {
                    const canvas = container.querySelector('canvas');
                    const svg = container.querySelector('svg');
                    
                    if (canvas) {
                        updateDebugInfo(`ğŸ‰ Canvas æ¸²æŸ“æˆåŠŸ: ${canvas.width} x ${canvas.height}`, 'success');
                    } else if (svg) {
                        updateDebugInfo('ğŸ‰ SVG æ¸²æŸ“æˆåŠŸ', 'success');
                    } else {
                        updateDebugInfo('âŒ æœªæ‰¾åˆ° Canvas æˆ– SVG å…ƒç´ ', 'error');
                        updateDebugInfo(`å®¹å™¨å†…å®¹: ${container.innerHTML}`, 'error');
                    }
                }, 1000);
                
                // ç›‘å¬çª—å£å¤§å°å˜åŒ–
                window.addEventListener('resize', function() {
                    myChart.resize();
                    updateDebugInfo('ğŸ“± å›¾è¡¨å·²è°ƒæ•´å¤§å°');
                });
                
            } catch (error) {
                updateDebugInfo(`âŒ åˆå§‹åŒ–å¤±è´¥: ${error.message}`, 'error');
                console.error('è¯äº‘åˆå§‹åŒ–å¤±è´¥:', error);
            }
        }
        
        // ä¸»å‡½æ•°
        function main() {
            updateDebugInfo('ğŸŒ é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹æ£€æŸ¥...');
            
            // ç­‰å¾…èµ„æºåŠ è½½
            setTimeout(() => {
                if (checkECharts() && checkWordcloudPlugin() && checkContainer()) {
                    updateDebugInfo('ğŸ¯ æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå¼€å§‹åˆå§‹åŒ–è¯äº‘...');
                    initWordcloud();
                } else {
                    updateDebugInfo('âŒ æ£€æŸ¥å¤±è´¥ï¼Œæ— æ³•åˆå§‹åŒ–è¯äº‘', 'error');
                }
            }, 500);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', main);
        } else {
            main();
        }
    </script>
</body>
</html> 